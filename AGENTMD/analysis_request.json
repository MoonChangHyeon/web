{
  "menu": "analysis_request",
  "description": "Fortify sourceanalyzer를 이용해 소스코드 정적분석을 요청·관리하는 메뉴",
  "workflow": [
    "clean",
    "build",
    "scan"
  ],
  "tools": {
    "sourceanalyzer": {
      "binary": "sourceanalyzer",
      "commandTemplates": {
        "clean": "sourceanalyzer -b ${buildId} -clean",
        "build": "sourceanalyzer -b ${buildId} -Xmx${maxHeap} -cp ${classpath} -source ${sourceVersion} ${sourceFiles}",
        "scan": "sourceanalyzer -b ${buildId} -scan -f ${fprPath} -logfile ${scanLog}"
      },
      "defaultOptions": {
        "maxHeap": "4G",
        "sourceVersion": "17"
      }
    }
  },
  "api": {
    "createRequest": {
      "method": "POST",
      "url": "/api/analysis-requests",
      "payload": {
        "projectName": "string",
        "buildId": "string",
        "sourcePaths": ["string"],
        "classpath": "/path/to/libs/*",
        "sourceVersion": "17"
      }
    },
    "getStatus": {
      "method": "GET",
      "url": "/api/analysis-requests/{id}/status"
    },
    "getLogs": {
      "method": "GET",
      "url": "/api/analysis-requests/{id}/logs"
    }
  },
  "database": {
    "table": "analysis_requests",
    "fields": {
      "id": "UUID PRIMARY KEY",
      "project_name": "VARCHAR(255)",
      "build_id": "VARCHAR(255)",
      "state": "ENUM('PENDING','CLEANING','BUILDING','SCANNING','COMPLETED','FAILED')",
      "fpr_path": "TEXT",
      "scan_log": "TEXT",
      "created_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
      "updated_at": "TIMESTAMP"
    }
  },
  "ui": {
    "page": "/analysis-requests",
    "components": [
      "newRequestForm",
      "requestTable",
      "statusBadge",
      "reportButton"   /* 모달 호출용 (보고서 생성) */
    ]
  },
  "env": {
    "FORTIFY_HOME": "/opt/fortify",
    "PATH": "$FORTIFY_HOME/bin:$PATH"
  }
}
